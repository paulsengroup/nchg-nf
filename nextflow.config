// Copyright (C) 2024 Roberto Rossini <roberros@uio.no>
//
// SPDX-License-Identifier: MIT

params {
  // IO options
  sample_sheet     = null  // required when 'hic_file' is undefined
  sample           = null  // required when 'sample_sheet' is undefined
  hic_file         = null  // required when 'sample_sheet' is undefined
  resolution       = null  // required when 'sample_sheet' is undefined
  domains          = null
  mask             = null
  publish_dir_mode = 'copy'

  // Mask files
  cytoband      = null
  assembly_gaps = null

  // NCHG options
  mad_max          = 5
  bad_bin_fraction = 0.1

  fdr_cis          = 0.01
  log_ratio_cis    = 1.5
  fdr_trans        = 0.01
  log_ratio_trans  = 1.5

  use_cis_interactions   = true
  use_trans_interactions = true

  // Plotting options
  plot_format                   = 'png'
  hic_tgt_resolution_plots      = 500000  // Approximate Hi-C data resolution used for plotting
  plot_sig_interactions_cmap_lb = null    // Lower bound for the color map used to plot significant interactions. Set to nchg_log_ratio when not specified
  plot_sig_interactions_cmap_ub = 2.0     // Upper bound for the color map used to plot significant interactions
  skip_expected_plots           = false
  skip_sign_interaction_plots   = false


  // Compression level used to compress intermediate files
  zstd_compression_lvl = 8
}

process {
  container = 'ghcr.io/paulsengroup/nchg-nf/utils:1.0.0'
}

includeConfig './conf/base.config'
includeConfig './subworkflows/nchg/nextflow.config'
includeConfig './subworkflows/samplesheet/nextflow.config'
